@model List<StudentsClassViewModel>

@{
    ViewData["Title"] = "Students List";
}

<div class="container mt-4">
    <h2 class="mb-4">Students List</h2>

    <!-- Search Box Form -->
    <form method="get" class="d-flex mb-4 align-items-center">
        <div class="flex-grow-1">
            <input type="text" name="searchName" class="form-control" placeholder="Search by Student Name" value="@ViewData["SearchName"]" />
        </div>
        <button type="submit" class="btn btn-primary ml-2">Search</button>
    </form>

    <!-- Display Students Class-wise -->
    @foreach (var group in Model)
    {
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0">@group.Class</h4>
            </div>
            <div class="card-body">
                @if (group.Students.Any())
                {
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Roll No</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var student in group.Students)
                            {
                                <tr>
                                    <td>@student.Name</td>
                                    <td>@student.RollNumber</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                }
                else
                {
                    <p class="text-muted">No students found for this class.</p>
                }
            </div>
        </div>
    }
</div>
